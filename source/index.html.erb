<div class="banner height-all-screen-navbar text-white" >
 <%= partial "shared/banner_info" %>
 <%= partial "shared/navbar" %>
</div>

<div class="overflow">
  <section id="about-me">
    <div class="container d-flex align-items-center justify-content-center flex-column">
      <h1 data-aos="fade-right" data-aos-once="true">Qui suis-je?</h1>
      <div class="header-bar" data-aos="fade-right" data-aos-delay="200" data-aos-once="true"></div>
      <div class="row">
        <div class="col">
        </div>
      </div>
    </div>
  </section>

  <section id="skills">
    <div class="container d-flex align-items-center justify-content-center flex-column">
      <h1 data-aos="fade-left" data-aos-once="true">Compétences</h1>
      <div class="header-bar" data-aos="fade-lef" data-aos-delay="200" data-aos-once="true"></div>
      <div id="about" class="timeline-container">
        <div id="timeline">

          <div class="timeline-item">
            <div class="timeline-icon" data-aos="zoom-in" data-aos-once="true" data-aos-duration="1000">
              <i class="fa fa-envelope-o" aria-hidden="true"></i>
            </div>
            <div class="timeline-content" data-aos="fade-right" data-aos-once="true" data-aos-duration="700">
              <h3>Conception</h3>
              <div class="card-logo figma">
                <a href="https://www.heroku.com/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                  <img src="images/figma.svg" alt="">
                  <h4>Figma</h4>
                </a>
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-icon" data-aos="zoom-in" data-aos-once="true" data-aos-duration="1000">
              <i class="fa fa-envelope-open-o" aria-hidden="true"></i>
            </div>
            <div class="timeline-content right" data-aos="fade-left" data-aos-once="true" data-aos-duration="700">
              <h3>Développement</h3>
              <div class="row">
                <div class="col col-lg-4 card-logo ruby">
                  <a href="https://www.ruby-lang.org/en/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-ruby-plain size-logo"></i>
                    <h4>Ruby</h4>
                  </a>
                </div>
                <div class="col col-lg-4 card-logo rails">
                  <a href="https://rubyonrails.org/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-rails-plain size-logo"></i>
                    <h4>Rails</h4>
                  </a>
                </div>
                <div class="col col-lg-4 card-logo javascript">
                  <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-javascript-plain size-logo"></i>
                    <h4>JavaScript</h4>
                  </a>
                </div>
                <div class="col col-lg-4 card-logo postgresql">
                  <a href="https://www.postgresql.org/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-postgresql-plain size-logo"></i>
                    <h4>PostgreSQL</h4>
                  </a>
                </div>
                <div class="col col-lg-4 card-logo html">
                  <a href="https://en.wikipedia.org/wiki/HTML" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-html5-plain size-logo"></i>
                    <h4>HTML</h4>
                  </a>
                </div>
                <div class="col col-lg-4 card-logo css">
                  <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                    <i class="devicon-css3-plain size-logo"></i>
                    <h4>CSS</h4>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-icon" data-aos="zoom-in" data-aos-once="true" data-aos-duration="1000">
              <i class="fa fa-envelope-o" aria-hidden="true"></i>
            </div>
            <div class="timeline-content" data-aos="fade-right" data-aos-once="true" data-aos-duration="700">
              <h3>Production</h3>
              <div class="col card-logo heroku">
                <a href="https://www.heroku.com/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
                  <i class="devicon-heroku-plain size-logo"></i>
                  <h4>Heroku</h4>
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>


      <!-- <h3 class="mt-5">Conception</h3>
      <div class="border-right"></div>
      <div class="row mt-5 d-flex w-100">
        <div class="col card-logo figma">
          <a href="https://www.heroku.com/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <img src="images/figma.svg" alt="">
            <h4>Figma</h4>
          </a>
        </div>
      </div>
      <div class="row mt-5 d-flex w-100">
        <div class="col card-logo ruby">
          <a href="https://www.ruby-lang.org/en/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-ruby-plain size-logo"></i>
            <h4>Ruby</h4>
          </a>
        </div>
        <div class="col card-logo rails">
          <a href="https://rubyonrails.org/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-rails-plain size-logo"></i>
            <h4>Rails</h4>
          </a>
        </div>
        <div class="col card-logo postgresql">
          <a href="https://www.postgresql.org/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-postgresql-plain size-logo"></i>
            <h4>PostgreSQL</h4>
          </a>
        </div>
        <div class="col card-logo html">
          <a href="https://en.wikipedia.org/wiki/HTML" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-html5-plain size-logo"></i>
            <h4>HTML</h4>
          </a>
        </div>
        <div class="col card-logo css">
          <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-css3-plain size-logo"></i>
            <h4>CSS</h4>
          </a>
        </div>
        <div class="col card-logo javascript">
          <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-javascript-plain size-logo"></i>
            <h4>JavaScript</h4>
          </a>
        </div>
        <div class="col card-logo heroku">
          <a href="https://www.heroku.com/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <i class="devicon-heroku-plain size-logo"></i>
            <h4>Heroku</h4>
          </a>
        </div>
        <div class="col card-logo figma">
          <a href="https://www.heroku.com/" target="_blank" class="d-flex align-items-center justify-content-center flex-column">
            <img src="images/figma.svg" alt="">
            <h4>Figma</h4>
          </a>
        </div>
      </div> -->
    </div>
  </section>

  <section id="portfolio">
    <div class="container d-flex align-items-center justify-content-center flex-column">
      <h1 data-aos="fade-right" data-aos-once="true">Portfolio</h1>
      <div class="header-bar" data-aos="fade-right" data-aos-delay="200" data-aos-once="true"></div>
      <div class="row">
        <div class="col">
        </div>
      </div>
    </div>
  </section>

  <section id="contact">
    <div class="container d-flex align-items-center justify-content-center flex-column">
      <h1 data-aos="fade-left" data-aos-once="true">Contact</h1>
      <div class="header-bar" data-aos="fade-left" data-aos-delay="200" data-aos-once="true"></div>
      <p class="contact-description" data-aos="fade-right" data-aos-delay="400" data-aos-once="true">Envie de discuter ?</p>
      <div class="row">
        <div class="col d-flex justify-content-center">
          <form id="contactForm" data-aos="zoom-in" data-aos-delay="600" data-aos-duration="800" data-aos-once="true" method="POST" name="contactForm" class="contactForm">
            <div class="form-group">
              <input type="text"  name="name" placeholder="Nom*" required>
              <input type="email" name="email" placeholder="Email*" required>
              <input type="tel" name="téléphone" placeholder="Téléphone">
              <textarea type="text" name="message" placeholder="Message*" required></textarea>
            </div>
            <div id="success">
              <div>Votre message a été envoyé avec succès. Merci !
                <span id="close" class="mdi"><i class="fas fa-times"></i></span>
              </div>
            </div>
            <input type="submit" value="Envoyer" id="submit">
          </form>
        </div>
      </div>
    </div>
  </section>
</div>

<%= partial "shared/footer" %>

<script>
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      document.querySelector(this.getAttribute('href')).scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
 // SEND EMAIL FROM CONTACT FORM
 const form = document.getElementById('contactForm');
 const formspreeEmail = 'carine.le.charles@gmail.com';
 const success = document.getElementById('success');
 const close = document.getElementById('close');
    // Convert form data to json
    const formDataToJson = formData => {
      const entries = formData.entries();
      const dataObj = Array.from(entries).reduce( (data, [key, value]) => {
        data[key] = value;
        if (key === "email") {
          data._replyTo = value;
        }
        return data;
      }, {});
      return JSON.stringify(dataObj);
    };

    //Post request with fetch
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      formData.append('_subject', 'Message from CLC website');

      fetch(`https://formspree.io/${ formspreeEmail }`, {
        method: 'POST',
        body: formDataToJson(formData),
        headers: {
          'Content-Type': 'application/json'
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.success === 'email sent') {
          success.classList.add("expand");
          form.reset();
        };
      });
    });

    close.addEventListener('click', () => {
      success.classList.remove("expand");
    });

// BANNER TYPED.JS

const typed = document.getElementById("typed");
if (typed) {
  new Typed("#typed", {
    strings: [
    "Bonjour !<br><br>Je m'appelle Carine. Je suis développeuse web full stack.<br><br>Faisons connaisance..."
    ],
    typeSpeed: 50
  });
}


const bannerInfo = document.getElementById("banner-info");
const navbar = document.getElementById("navbar");
const logoNavbar = document.getElementById("logo");
const logoNavbarPhone = document.getElementById("logo-navbar-phone");
const hamb = document.getElementById("toggle");
const overlay = document.getElementById("overlay");
const body = document.body;
// BANNER INFO DISAPPEARS ON SCROLL
window.addEventListener("scroll", () => {
  if (bannerInfo) {
    if (scrollY > 160) {
      bannerInfo.classList.remove("display-banner-info");
      bannerInfo.classList.add("hide-banner-info");
    } else {
      bannerInfo.classList.remove("hide-banner-info");
      bannerInfo.classList.add("display");
    }
  }
});

// NAVBAR STYLE CHANGE ON SCROLL
window.addEventListener("scroll", () => {
  if (navbar) {
    if (window.scrollY >= window.innerHeight) {
      navbar.classList.remove("bg-transparent");
      navbar.classList.add("navbar-fixed");
      logoNavbar.src = "images/logo-yellow.png";
    } else {
      navbar.classList.remove("navbar-fixed");
      navbar.classList.add("bg-transparent");
      logoNavbar.src = "images/logo-grey.png";
    }
  }
});

// DISPLAY LOGO NAVBAR IN PHONE SCREEN
window.addEventListener("scroll", () => {
  if (navbar) {
    if (window.scrollY >= window.innerHeight) {
      logoNavbarPhone.classList.remove("invisible");
      logoNavbarPhone.classList.add("visible");
    } else {
      logoNavbarPhone.classList.remove("visible");
      logoNavbarPhone.classList.add("invisible");
    }
  }
});

// OPEN MENU HAMBURGER
hamb.addEventListener("click", () => {
 hamb.classList.toggle('active');
 overlay.classList.toggle('open');
 body.classList.toggle('noscroll');
});
</script>
